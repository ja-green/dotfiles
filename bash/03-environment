# check the window size after each command and, if necessary,
# update the values of LINES and COLUMNS.
shopt -s checkwinsize

# enable 256 colour if available
if [[ $COLORTERM = gnome-* && $TERM = xterm ]] && infocmp gnome-256color >/dev/null 2>&1; then
  export TERM=gnome-256color
elif infocmp xterm-256color >/dev/null 2>&1; then
  export TERM=xterm-256color
fi

# make less more friendly for non-text input files, see lesspipe(1)
[ -x /usr/bin/lesspipe ] && eval "$(SHELL=/bin/sh lesspipe)"

# bash completion sources
source /etc/bash_completion.d/git-prompt
source /usr/local/bin/z

# preferences
export EDITOR=vi
export TMPDIR=/tmp
export PAGER=less

 #development environment paths
export WORKSPACE=~/Applications/hmrc-development-environment/hmrc/
export DOTFILES=~/Applications/personal-development-environment/src/github.com/ja-green/dotfiles
export WDE=~/Applications/hmrc-development-environment/hmrc/
export PDE=~/Applications/personal-development-environment/src/

# jenkins credentials
export jenkins_user="$(lpass show --username dev)"
export jenkins_key="$(lpass show --notes dev)"

# java variables
export JAVA_HOME=/usr/lib/jvm/java-8-oracle
export JAVA_OPTS='-XX:MaxMetaspaceSize=512m -Xmx1524M'

# go path
export GOPATH=/home/jgreen/Applications/personal-development-environment:/usr/local/go/bin

# smashing credentials
export JIRA_USERNAME="$(lpass show --username Jira)"
export JIRA_PASSWORD="$(lpass show --password Jira)"
export GITHUB_ACCESS_TOKEN="$(lpass show --notes github.com)"

# nvm sources
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"

# z preferences
# export _Z_OWNER="jgreen"
# export _Z_NO_PROMPT_COMMAND="true"
# PROMPT_COMMAND+='$(_z --add "$(command pwd -P 2>/dev/null)" 2>/dev/null &)'

# fasd preferences
eval "$(fasd --init auto bash-hook bash-ccomp bash-ccomp-install)"

